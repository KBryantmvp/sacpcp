<!--
  Generated template for the CreateGroupPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
    <app-header back="true" title="Create Group">
    </app-header>
</ion-header>


<ion-content padding>
    <form (ngSubmit)="addGroup()">
        <div class="absolute-container">
            <ion-row>                  
                </ion-row>
                <ion-row>
                    <ion-item no-lines>
                        <ion-label>Organization:</ion-label>
                        
                            <ion-input class="input-height" type ="text"  [(ngModel)]="orgRequest.name" name="orgRequest.name"></ion-input>
                        
                    </ion-item>
                </ion-row>
                <ion-row>
                    <ion-item no-lines>
                        <ion-label>Group Name:</ion-label>
                            <ion-input class="input-height" type="text" [(ngModel)]="orgRequest.group"  name="orgRequest.group"></ion-input>
                    </ion-item>
                </ion-row>
                <ion-row>
                        <ion-item no-lines>
                            <ion-label>Description:</ion-label>
                                <ion-textarea class="textarea" type="text"  [(ngModel)]="orgRequest.description"  name="orgRequest.description"></ion-textarea>
                        </ion-item>
                    </ion-row>
            </div>
         
            <div class="member-header">
                  <h4>Group Members</h4>
            </div>
            <div  *ngFor = "let row of rows; let x = index; trackBy:trackByIndex" style="border-bottom: 0.5px solid black;">
               
                <ion-row align-items-center>
                    <ion-col col-4>
                        <p>First Name</p>
                    </ion-col>
                    <ion-col col-4>
                        <p>Last Name</p>  </ion-col>
                    <ion-col col-4>
                        <p>Contact</p>   
                    </ion-col>
                </ion-row>
                <ion-row >
                    <ion-col col-4>
                        <ion-input  [(ngModel)]="row.firstname" name="firstname{{x}}"  required></ion-input>
                    </ion-col>
                    <ion-col col-4>
                        <ion-input  [(ngModel)]="row.lastname" name="lastname{{x}}"  required type ="text"></ion-input>
                    </ion-col>
                    <ion-col col-4>
                        
                            <ion-select  (ionChange)="flipBoolean(row.contactString, x)" [(ngModel)]="row.contactString" name="contactString{{x}}"  >
                                    <ion-option  value="Email">Email</ion-option>
                                    <ion-option  value="Phone">Phone</ion-option>
                            </ion-select>
                            <br>
                            <ion-input *ngIf="row.isEmailSelected" class="below-select" placeholder="Enter Email" type ="text"></ion-input>
                            <ion-input  *ngIf="row.isPhoneSelected" class="below-select" [(ngModel)]="row.mobilenumber" name="mnum" placeholder="Enter Phone Number" type ="tel" maxlength="10" minlength="10"></ion-input>
                            
                    </ion-col>
                </ion-row>
                <ion-row>
                <ion-col col-6>
                        <p>Role</p>   
                    </ion-col>
                    <ion-col col-6>
                        <p>Status</p>   
                    </ion-col>
                </ion-row>
                <ion-row>
                    <ion-col col-6>
                        <ion-select [(ngModel)]="row.isAdmin" name = "isAdmin{{x}}"  >
                            <ion-option value = "2">Admin</ion-option>
                            <ion-option value="0">Member</ion-option>
                        </ion-select>
                    </ion-col>
                    <ion-col col-6>   
                        <ion-select [(ngModel)]="row.isActive" name="isActive{{x}}" type ="text">
                            <ion-option value = "1">Active</ion-option>
                            <ion-option value="0">Inactive</ion-option>
                        </ion-select>
                    </ion-col>        
                </ion-row>
                <br>
            </div>
            <div class="container">
                <ion-row>
                    <ion-col style="padding-left:15%;" col-4>
                        <button ion-button small  color="dark" (click)="cancel()">Cancel</button>
                    </ion-col>
                    <!--<ion-col col-3>
                        <button ion-button small class="input-height" (click)="login()">Save</button>
                    </ion-col>
                -->
                    <ion-col col-4>
                        <button ion-button small  (click)="addMember()">Add a Member</button>
                    </ion-col>
                    <ion-col col-4>
                        <button ion-button small  type="submit">Submit</button>
                    </ion-col>
                </ion-row>
            </div>
            <div style="min-height: 10vh !important;">
                    
            </div>
            
    </form>
</ion-content>
